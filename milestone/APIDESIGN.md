|Action | Inputs/Data | Pre conditions | post conditions | API Endpoint |
| -----| -----------| -----------------| ---------------| ------------- |
|User creates an account | <ul><li> Username (string) (player_id)</li><li> Password (string)</li><li> Avatar_id</li></ul> | <ul><li>username cannot contain special characters (letters and numbers only) </li><li>Password cannot contain special characters (letters and numbers only) </li><li>Username must be unique (no duplicates in the database and no whitespace) </li><li>Password length needs to be longer than 4 </li></ul>|<ul><li>Saves the new user into a database (username, password, avatar) </li><li>Encryption of password</li><li> Username becomes player_id</li> </li></ul> | POST /login/create |
| User logs in | <ul><li>Username (string) (player_id)</li><li>Password (string)</li><li>isAuthenticated = False</li></ul> | <li>player_id exists in the database (IS NOT NULL)</li> | isAuthenticated returns true if username and password matches in database | POST /login |
| User in waiting lobby | <ul><li>Chat message (string) </li><li>Player_id</li><li>left_game (bool)</li><li>Player_count</li><li>Game_id</li><li>Avatar_id </li></ul> | <li>isAuthenticated is True</li> <li>If player_count of game_id is not full, user can join, incrementing player_count</li><li>If game_id is still active, and left_game is True, then a user can join a previously left game (with the same cards)</li><li>Maybe a timeout that starts the game automatically for players? A waiting time </li> | <li>Chat log is updated when a user writes a message</li><li>Each player_id has ability to send and receive messages globally</li><li>Player_id and avatar_id can be viewable on the screen</li> | POST /lobby |
| User creates a game |  <li>Player_id<li>Game_title<li>Player_count<li>Avatar_id |  |<li>New game is created with a game_id<li>Each player_id is redirected to the game room <li>Each player_id is added to a game_id<li>Player_id and avatar_id is visible to other player_id<li> | POST/game/create (game_id, player_count) |
| User starts the game | <li>Player_id </li><li>Game_id</li><li>Card object</li><li>Card_id</li><li>Deck object</li><li>Hand object</li><li>Turn_order</li><li>Score</li><li>Chat message (string)</li><li>Avatar_id</li> | <li>Player_id is successfully added to a game_id</li> | <li>Deck is shuffled randomly</li><li>Each user score is set to 0</li><li>Each player_id receives 7 cards into their hand from the deck</li><li>Top card of deck is placed as first card of game</li><li>Count of deck is decreased by 7*player_count + 1</li><li>Each player_id is assigned with a turn_order</li><li>Deck object and hand object is not visible by other player_id</li><li>Hand object instance is assigned to each player_id?</li><li>Chat log is updated when a user writes a message</li><li>Each player_id should have ability to send and receive messages</li><li>Player_id and avatar_id is visible to other player_id</li> | POST/game/:game_id/start (game_id, player_count) |
| Userâ€™s turn to play |<li>Player_id</li><li>Game_id</li><li>Card object</li><li>Card_id</li><li>Deck object</li><li>Hand object</li><li>Turn_order</li><li>Score</li><li>Chat message (string)</li><li>Avatar_id</li> | <li>Player_id turn based on turn_order</li><li>Player_id has card_id in their hand</li><li>Playing Card_id is a legal move</li><li>No card_id is playable</li> | <li>If no cards can be played, player_id picks up a new card_id from top of deck</li><li>Players hand object is updated if card_id from deck object is taken</li><li>Center pile is updated with card_id</li><li>Score is updated based on card_id</li><li>Next player based on turn_order becomes current player</li><li>All users receive the updated game state (center pile, number of cards)</li><li>If player_id logs out of game, return to waiting lobby, and left_game becomes true.</li><li>If player (previously logged out) returns to game state, retrieve previous hand, card_id and turn_order.</li><li>Player_id has ability to call uno on other player with one card</li><li>Players hand object is updated if other player_id calls uno hand object card_id + 2</li> <li>player_id hand object is updated if a special card_id is played in the turn before</li> <li>Player_id and avatar_id is visible to other player_id </li>| POST/game/:game_id/start (game_id, player_count) |
| User wins the game |<li>Player_id</li><li>Game_id</li><li>Card object</li><li>Card_id</li><li>Deck object</li><li>Hand object</li><li>Turn_order</li><li>Score</li><li>Avatar_id</li> | <li>Hand only has 1 card count previously</li><li>Playing card_id is legal move</li> | <li>Players are directed to game summary view, with scores for each player_id</li><li>Users can go back to waiting lobby or log out.</li><li>Player_id and avatar_id is visible to other player_id </li> | POST/game/:game_id/score (game_id, player_count, score)





